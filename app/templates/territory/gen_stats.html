<div class="col col-sm-12 col-lg-4 text-center">
    <div id="countOcctax" class="count" data-count="{{ gen_stats.count_occtax }}">0</div>
    <div class="subject">Observations</div>
</div>
<div class="col col-sm-6  col-lg-4 ">
    <div id="countTaxa" class="count" data-count="{{ gen_stats.count_taxa }}">0</div>
    <div class="subject">Espèces</div>
</div>
<div class="col col-sm-6 col-lg-4 ">
    <div id="countThreatened" class="count" data-count="{{ gen_stats.count_threatened }}">0</div>
    <div class="subject">Espèces menacées</div>
</div>
<div class="col col-sm-6 col-lg-3">
    <div id="countObserver"  class="count" data-count="{{ gen_stats.count_observer }}">0</div>
    <div class="subject">Observateurs</div>
</div>
<div class="col col-sm-6 col-lg-3">
    <div id="countDate" class="count" data-count="{{ gen_stats.count_date }}">0</div>
    <div class="subject">Dates</div>
</div>
<div class="col col-sm-6 col-lg-3">
    <div class="count">{{ gen_stats.last_obs.strftime('%Y-%m-%d') }}</div>
    <div class="subject">Dernière date</div>
</div>
<div class="col col-sm-6 col-lg-3">
    <div id="countDataset" class="count" data-count="{{ gen_stats.count_dataset }}">0</div>
    <div class="subject">Jeux de données</div>
</div>
<script type="module">
    import {CountUp} from '/static/assets/countup.min.js';

    const countUpOptions = {
        separator: ' ',
    };

    var countUpUpdate = function (element, data) {
        new CountUp(element, data, countUpOptions).start();
    };

    $('.count').each(function () {
        var $this = $(this),
            countTo = $this.attr('data-count');
        console.log('<$this>',this.id);
        countUpUpdate(this.id, countTo, countUpOptions)
    });
</script>